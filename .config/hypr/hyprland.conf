# ~/.config/hypr/hyprland.conf
# Converted from XMonad config

# Monitor setup - Force proper scaling
monitor=,preferred,auto,1.0

# Environment variables
env = XCURSOR_SIZE,24
env = QT_QPA_PLATFORMTHEME,qt5ct
env = GDK_SCALE,1
env = QT_SCALE_FACTOR,1

# Startup applications (equivalent to myStartupHook)
exec-once = waybar
exec-once = hyprpaper
exec-once = nm-applet
# exec-once = $HOME/.config/hypr/scripts/autostart.sh
# exec-once = $HOME/.scripts/autoMonitor.sh

# Input configuration
input {
    kb_layout = us
    kb_variant =
    kb_model =
    kb_options =
    kb_rules =

    follow_mouse = 0  # myFocusFollowsMouse = False

    touchpad {
        natural_scroll = no
    }

    sensitivity = 0
}

# General settings
general {
    gaps_in = 2       # defaultSpacing 2
    gaps_out = 2
    border_size = 3   # myBorderWidth = 3

    # Colors from your XMonad config
    col.active_border = rgb(3D3659)    # focdBord
    col.inactive_border = rgb(292D3E)  # normBord

    layout = master
    allow_tearing = false
}

# Decoration (window styling)
decoration {
    rounding = 0

    blur {
        enabled = true
        size = 3
        passes = 1
    }

    # Shadows - new 0.45+ syntax
    shadow {
        enabled = true
        range = 4
        render_power = 3
        color = rgba(1a1a1aee)
    }
}

# Animations
animations {
    enabled = yes

    bezier = myBezier, 0.05, 0.9, 0.1, 1.05

    animation = windows, 1, 7, myBezier
    animation = windowsOut, 1, 7, default, popin 80%
    animation = border, 1, 10, default
    animation = borderangle, 1, 8, default
    animation = fade, 1, 7, default
    animation = workspaces, 1, 6, default
}

# Layout configuration (equivalent to myLayout)
dwindle {
    pseudotile = yes
    preserve_split = yes
}

master {
    new_status = master
}

# Gestures
gestures {
    workspace_swipe = off
}

# Misc settings
misc {
    force_default_wallpaper = -1
    disable_hyprland_logo = false
    disable_autoreload = false
}

xwayland {
    force_zero_scaling = true
}

# Workspaces (myWorkspaces = ["λ", "β", "γ", "δ", "ε"])
# Note: Hyprland uses numbers, but we can name them
workspace = 1, name:λ
workspace = 2, name:β
workspace = 3, name:γ
workspace = 4, name:δ
workspace = 5, name:ε

# Window rules (equivalent to myManageHook)
# Floating windows (myCFloats, myTFloats, myRFloats)
windowrulev2 = float,class:^(Arandr)$
windowrulev2 = float,class:^(feh)$
windowrulev2 = float,class:^(mpv)$
windowrulev2 = float,class:^(vlc)$
windowrulev2 = float,title:^(Downloads)$
windowrulev2 = float,title:^(Save As...)$
windowrulev2 = float,title:^(pavucontrol)$
windowrulev2 = float,class:^(plasmashell)$
windowrulev2 = float,title:^(ChronoTask)$

# Center floating windows
# windowrulev2 = center,floating:1

# Workspace assignments (my1Shifts through my5Shifts)
windowrulev2 = workspace 1,class:^(kitty)$
windowrulev2 = workspace 2,class:^(firefox)$
windowrulev2 = workspace 3,class:^(jetbrains-idea)$
windowrulev2 = workspace 4,class:^(lutris)$
windowrulev2 = workspace 4,class:^(steam)$
windowrulev2 = workspace 5,class:^(discord)$
windowrulev2 = workspace 5,class:^(teams-for-linux)$
windowrulev2 = workspace 5,class:^(thunderbird-esr)$
windowrulev2 = workspace 5,class:^(thunderbird)$

# Ignore windows
windowrulev2 = workspace special:ignore,class:^(desktop_window)$
windowrulev2 = workspace special:ignore,class:^(dunst)$
windowrulev2 = workspace special:ignore,title:^(Timer)$

# For Firefox picture-in-picture
windowrulev2 = float,title:^(Picture-in-Picture)$
windowrulev2 = pin,title:^(Picture-in-Picture)$

# For file picker dialogs
windowrulev2 = float,title:^(Open File)$
windowrulev2 = float,title:^(Select a File)$

# Keybindings (converted from myKeys)
$mainMod = SUPER

# Application launchers (Super + function keys)
bind = $mainMod, Q, killactive                      # ((modm, xK_q), kill)
bind = $mainMod, F, exec, rofi -show drun          # ((modm, xK_f), spawn "rofi -show drun") - using wofi
bind = $mainMod, E, exec, rofi -show window         # ((modm, xK_e), spawn "rofi -show window") - rofi for window switching
bind = $mainMod, R, exec, rofi -show run           # ((modm, xK_r), spawn "rofi -show run") - using wofi
bind = $mainMod, X, exec, rofi-power-menu           # ((modm, xK_x), spawn "rofi-power-menu")
bind = $mainMod, C, exec, copyq show                # ((modm, xK_c), spawn "copyq show")
bind = $mainMod, B, exec, rofi-url                  # ((modm, xK_b), spawn "rofi-url")
bind = $mainMod, T, exec, kitty                     # ((modm, xK_t), spawn "kitty")
bind = $mainMod, Escape, exec, xkill                # ((modm, xK_Escape), spawn "xkill")

# System controls
bind = $mainMod SHIFT, R, exec, hyprctl reload      # Reload Hyprland (instead of xmonad restart)
bind = CTRL ALT, K, exec, waybar                    # Start waybar (instead of polybar)
bind = CTRL ALT, L, exec, pkill waybar              # Kill waybar

# Additional shortcuts
bind = CTRL $mainMod, B, exec, firefox
bind = CTRL $mainMod, T, exec, thunar

# Screenshots
bind = , Print, exec, grim -g "$(slurp)" - | wl-copy    # Wayland equivalent of flameshot

# Audio controls (multimedia keys)
bind = , XF86AudioMute, exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
bind = , XF86AudioLowerVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bind = , XF86AudioRaiseVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%+


bind = , XF86MonBrightnessUp, exec, brightnessctl set +5%
bind = , XF86MonBrightnessDown, exec, brightnessctl set 5%-

# Media controls
bind = , XF86AudioPlay, exec, smart-playerctl play-pause
bind = , XF86AudioNext, exec, smart-playerctl next
bind = , XF86AudioPrev, exec, smart-playerctl previous
bind = , XF86AudioStop, exec, smart-playerctl stop

# Window management (Navigation)
bind = $mainMod, Space, layoutmsg, orientationnext                        # Cycle layouts
bind = $mainMod, Tab, workspace, e+1                                       # Next workspace
bind = $mainMod, J, movefocus, d                                           # Focus down
bind = $mainMod, K, movefocus, u                                           # Focus up
bind = $mainMod SHIFT, M, layoutmsg, focusmaster                          # Focus master (master layout)
bind = CTRL $mainMod, M, layoutmsg, swapwithmaster                        # Swap with master (master layout)
bind = CTRL $mainMod, J, layoutmsg, cyclenext                             # Cycle next (master layout)
bind = CTRL $mainMod, K, layoutmsg, cycleprev                             # Cycle prev (master layout)
bind = CTRL $mainMod, H, splitratio, -0.1                                 # Shrink master
bind = CTRL $mainMod, L, splitratio, +0.1                                 # Expand master
bind = CTRL $mainMod, T, togglefloating                                   # Toggle floating

# Workspace switching (1-5, matching your Greek letters)
bind = $mainMod, 1, workspace, 1                    # λ
bind = $mainMod, 2, workspace, 2                    # β
bind = $mainMod, 3, workspace, 3                    # γ
bind = $mainMod, 4, workspace, 4                    # δ
bind = $mainMod, 5, workspace, 5                    # ε

# Move windows to workspaces
bind = $mainMod SHIFT, 1, movetoworkspace, 1
bind = $mainMod SHIFT, 2, movetoworkspace, 2
bind = $mainMod SHIFT, 3, movetoworkspace, 3
bind = $mainMod SHIFT, 4, movetoworkspace, 4
bind = $mainMod SHIFT, 5, movetoworkspace, 5

# Monitor switching (equivalent to your screen switching)
bind = $mainMod, D, focusmonitor, 0
bind = $mainMod, S, focusmonitor, 1
bind = CTRL $mainMod, D, movewindow, mon:0
bind = CTRL $mainMod, S, movewindow, mon:1

# Mouse bindings (equivalent to myMouseBindings)
bindm = $mainMod, mouse:272, movewindow             # mod-button1 (left click)
bindm = $mainMod, mouse:273, resizewindow           # mod-button3 (right click)
bind = $mainMod, mouse:274, layoutmsg, focusmaster             # mod-button2 (middle click)

# Special workspace (scratchpad)
bind = $mainMod, grave, togglespecialworkspace, dropdown
bind = $mainMod SHIFT, grave, movetoworkspace, special:dropdown
