monitor=HDMI-A-2,1920x1080@60,0x0,1,transform,1
monitor=DP-2,2560x1440@120,1080x360,1

monitor=,preferred,auto,1

env = XCURSOR_SIZE,24
env = QT_QPA_PLATFORM, wayland
env = QT_QPA_PLATFORMTHEME,qt5ct
env = GDK_SCALE,1
env = QT_SCALE_FACTOR,1
env = LIBVA_DRIVER_NAME,nvidia
env = __GLX_VENDOR_LIBRARY_NAME,nvidia
env = __NV_PRIME_RENDER_OFFLOAD,1
env = VK_ICD_FILENAMES,/usr/share/vulkan/icd.d/nvidia_icd.x86_64.json
env = WLR_NO_HARDWARE_CURSORS,1
env = ELECTRON_OZONE_PLATFORM_HINT,auto

exec-once = waybar
exec-once = hyprpaper
exec-once = nm-applet
exec-once = dunst
exec-once = mpd
exec-once = clipse -listen
exec-once = xrandr --output DP-2 --primary
# exec-once = mpvpaper -o "loop-file=inf --hwdec=nvdec --gpu-context=wayland --no-audio" HDMI-A-2 /home/silverest/Pictures/alice_thymefield.mp4
# exec-once = mpvpaper -o "loop-file=inf --hwdec=nvdec --gpu-context=wayland --no-audio" DP-2 /home/silverest/Pictures/night_city_2_1440p.mp4
# exec-once = ~/.config/hypr/scripts/dual-wallpaper.sh

input {
    kb_layout = us
    kb_variant =
    kb_model =
    kb_options =
    kb_rules =

    follow_mouse = 2
    mouse_refocus = false

    touchpad {
        natural_scroll = false
        disable_while_typing = true
        tap-to-click = true
        drag_lock = true
    }

    sensitivity = 0
    accel_profile = flat
}

general {
    gaps_in = 3
    gaps_out = 6
    border_size = 2

    col.active_border = rgb(3D3659)
    col.inactive_border = rgb(292D3E)

    layout = master
    allow_tearing = false
    resize_on_border = true
    extend_border_grab_area = 15
    hover_icon_on_border = true
}

decoration {
    rounding = 12

    blur {
        enabled = true
        size = 3
        passes = 1
        vibrancy = 0.1696
    }

    shadow {
        enabled = true
        range = 4
        render_power = 3
        color = rgba(1a1a1aee)
    }
}

animations {
    enabled = true

    bezier = myBezier, 0.05, 0.9, 0.1, 1.05
    bezier = easeOutQuint, 0.23, 1, 0.32, 1

    animation = windows, 1, 7, myBezier
    animation = windowsOut, 1, 7, default, popin 80%
    animation = border, 1, 10, default
    animation = borderangle, 1, 8, default
    animation = fade, 1, 7, default
    animation = workspaces, 1, 6, default
    animation = specialWorkspace, 1, 6, default, slidevert
}

dwindle {
    pseudotile = true
    preserve_split = true
    smart_split = false
    smart_resizing = true
    force_split = 0
    split_width_multiplier = 1.0
}

master {
    new_status = master
    new_on_top = false
    orientation = left
    inherit_fullscreen = true
    smart_resizing = true
    drop_at_cursor = true
    allow_small_split = false
    special_scale_factor = 0.95
    mfact = 0.55
}

gestures {
    workspace_swipe = false
}

misc {
    force_default_wallpaper = -1
    disable_hyprland_logo = false
    disable_autoreload = false
    focus_on_activate = true
    mouse_move_enables_dpms = true
    key_press_enables_dpms = true
    always_follow_on_dnd = true
    layers_hog_keyboard_focus = true
    animate_manual_resizes = false
    animate_mouse_windowdragging = false
    enable_swallow = false
    swallow_regex = ^(kitty)$
    middle_click_paste = false
    initial_workspace_tracking = 1
}

cursor {
    no_hardware_cursors = true
    no_break_fs_vrr = false
    min_refresh_rate = 24
    hotspot_padding = 1
    inactive_timeout = 3
    no_warps = true
    persistent_warps = false
    warp_on_change_workspace = false
    default_monitor = DP-2
    zoom_factor = 1.0
    zoom_rigid = false
}

xwayland {
    force_zero_scaling = true
}

workspace = 1, monitor:DP-2, name:λ, default:true
workspace = 2, monitor:DP-2, name:β
workspace = 3, monitor:DP-2, name:γ
workspace = 6, monitor:DP-2, name:Ψ

workspace = 4, monitor:HDMI-A-2, name:δ, default:true
workspace = 5, monitor:HDMI-A-2, name:ε

windowrulev2 = noinitialfocus, class:^(.*jetbrains.*)$, title:^(win.*)$
windowrulev2 = nofocus, class:^(.*jetbrains.*)$, title:^(win.*)$

windowrulev2 = stayfocused, class:^(jetbrains-idea)$, floating:1

windowrulev2 = float, class:^(clipse-floating)$
windowrulev2 = size 800 600, class:^(clipse-floating)$
windowrulev2 = center, class:^(clipse-floating)$

windowrulev2 = float, title:^(mpv)$
windowrulev2 = float, title:^(Downloads)$
windowrulev2 = float, title:^(Save As.*)$
windowrulev2 = float, title:^(Open File.*)$
windowrulev2 = float, title:^(Select a File.*)$
windowrulev2 = float, title:^(ChronoTask)$
windowrulev2 = float, title:^(Picture-in-Picture)$

windowrulev2 = float, class:^(rofi)$
windowrulev2 = center 1, class:^(rofi)$
windowrulev2 = stayfocused, class:^(rofi)$
windowrulev2 = dimaround, class:^(rofi)$

windowrulev2 = pin, title:^(Picture-in-Picture)$

windowrulev2 = workspace 2, class:^(jetbrains-idea)$
windowrulev2 = workspace 3, class:^(lutris)$
windowrulev2 = workspace 3, class:^(steam)$
windowrulev2 = workspace 5, class:^(discord)$
windowrulev2 = workspace 5, class:^(teams-for-linux)$
windowrulev2 = workspace 5, class:^(thunderbird-esr)$
windowrulev2 = workspace 5, class:^(thunderbird)$

windowrulev2 = monitor DP-2, class:^(jetbrains-idea)$
windowrulev2 = monitor DP-2, class:^(firefox)$
windowrulev2 = monitor HDMI-A-2, class:^(discord)$
windowrulev2 = monitor HDMI-A-2, class:^(teams-for-linux)$

windowrulev2 = workspace special:ignore, class:^(desktop_window)$
windowrulev2 = workspace special:ignore, class:^(dunst)$
windowrulev2 = workspace special:ignore, title:^(Timer)$

windowrulev2 = opacity 0.95 0.95, class:^(kitty)$
windowrulev2 = opacity 1.0 1.0, class:^(jetbrains-idea)$
windowrulev2 = opacity 1.0 1.0, class:^(firefox)$

bind = SUPER, Q, killactive
bind = SUPER SHIFT , Q, exec, hyprctl kill
bind = SUPER, F, exec, rofi -show drun
bind = SUPER, E, exec, rofi -show window
bind = SUPER, R, exec, rofi -show run
bind = SUPER, X, exec, rofi-power-menu
bind = SUPER, C, exec, copyq show
bind = SUPER, B, exec, rofi-url
bind = SUPER, T, exec, kitty
bind = SUPER, Escape, exec, xkill

bind = SUPER SHIFT, R, exec, hyprctl reload
bind = CTRL ALT, K, exec, waybar
bind = CTRL ALT, L, exec, pkill waybar

bind = CTRL SUPER, B, exec, qutebrowser
bind = CTRL SUPER, N, exec, kitty -e nnn
# bind = CTRL SUPER, T, exec, hyprctl dispatch togglefloating

bind = , Print, exec, grim -g "$(slurp)" - | wl-copy
bind = SUPER, Print, exec, grim -o $(hyprctl monitors -j | jq -r '.[] | select(.focused) | .name') - | wl-copy
bind = SUPER SHIFT, Print, exec, grim - | wl-copy

bind = CTRL, XF86AudioMute, exec, change-audio-output
bind = , XF86AudioMute, exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
bind = , XF86AudioLowerVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bind = , XF86AudioRaiseVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%+

bind = , XF86MonBrightnessUp, exec, brightnessctl set +5%
bind = , XF86MonBrightnessDown, exec, brightnessctl set 5%-

bind = , XF86AudioPlay, exec, smart-playerctl play-pause
bind = , XF86AudioNext, exec, smart-playerctl next
bind = , XF86AudioPrev, exec, smart-playerctl previous
bind = , XF86AudioStop, exec, smart-playerctl stop

bind = SUPER, Space, layoutmsg, orientationnext
bind = SUPER, Tab, workspace, e+1
bind = SUPER, J, layoutmsg, cyclenext
bind = SUPER, K, layoutmsg, cycleprev
bind = SUPER, H, movefocus, l
bind = SUPER, L, movefocus, r

bind = SUPER SHIFT, M, layoutmsg, focusmaster
bind = CTRL SUPER, M, layoutmsg, swapwithmaster
bind = CTRL SUPER, H, splitratio, -0.1
bind = CTRL SUPER, L, splitratio, +0.1

bind = CTRL SUPER, T, togglefloating
#bind = SUPER, P, pseudo
#bind = SUPER, V, togglesplit

bind = SUPER, V, exec, kitty --class="clipse-floating" -e clipse

bind = SUPER, Return, fullscreen, 0
bind = SUPER SHIFT, Return, fullscreen, 1

bind = SUPER, 1, workspace, 1
bind = SUPER, 2, workspace, 2
bind = SUPER, 3, workspace, 3
bind = SUPER, 4, workspace, 4
bind = SUPER, 5, workspace, 5
bind = SUPER, F9, workspace, 6

bind = SUPER SHIFT, 1, movetoworkspace, 1
bind = SUPER SHIFT, 2, movetoworkspace, 2
bind = SUPER SHIFT, 3, movetoworkspace, 3
bind = SUPER SHIFT, 4, movetoworkspace, 4
bind = SUPER SHIFT, 5, movetoworkspace, 5
bind = SUPER SHIFT, F9, movetoworkspace, 6

bind = SUPER CTRL, 1, movetoworkspacesilent, 1
bind = SUPER CTRL, 2, movetoworkspacesilent, 2
bind = SUPER CTRL, 3, movetoworkspacesilent, 3
bind = SUPER CTRL, 4, movetoworkspacesilent, 4
bind = SUPER CTRL, 5, movetoworkspacesilent, 5
bind = SUPER CTRL, F9, movetoworkspacesilent, 6

bindm = SUPER, mouse:272, movewindow
bindm = SUPER, mouse:273, resizewindow
bind = SUPER, mouse:274, layoutmsg, focusmaster

bind = SUPER, grave, togglespecialworkspace, dropdown
bind = SUPER SHIFT, grave, movetoworkspace, special:dropdown

bind = SUPER, M, submap, resize
submap = resize
binde = , H, resizeactive, -10 0
binde = , L, resizeactive, 10 0
binde = , K, resizeactive, 0 -10
binde = , J, resizeactive, 0 10
bind = , escape, submap, reset
submap = reset

bind = SUPER, S, focusmonitor, l
bind = SUPER, D, focusmonitor, r

bind = SUPER SHIFT, S, movewindow, mon:l
bind = SUPER SHIFT, D, movewindow, mon:r

bind = SUPER ALT, S, moveworkspacetomonitor, current HDMI-A-2
bind = SUPER ALT, D, moveworkspacetomonitor, current DP-2

bind = SUPER SHIFT, S, exec, hyprctl dispatch movewindow mon:HDMI-A-2 && hyprctl dispatch focusmonitor HDMI-A-2
bind = SUPER SHIFT, D, exec, hyprctl dispatch movewindow mon:DP-2 && hyprctl dispatch focusmonitor DP-2

bind = SUPER CTRL SHIFT, R, exec, hyprctl keyword monitor ,preferred,auto,1
